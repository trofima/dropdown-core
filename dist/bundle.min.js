"use strict";var OptionsHTML=function(){function t(t){var e=t.screenEdgeIndent,o=void 0===e?10:e,n=t.minHeight,i=void 0===n?180:n;this.node=document.getElementById("dropdown-options"),this.node.innerHTML=this.render(),this.node.querySelector(".options").addEventListener("wheel",function(t){console.log(t)}),this.options=new Options({node:this.node,screenEdgeIndent:o,minHeight:i})}return t.prototype.render=function(){return'\n            <div class="options" ref="options" tabindex="0">\n                <ol class="list" ref="list"></ol>\n            </div>\n        '},t.prototype.open=function(t){var e=t.type,o=t.options,n=t.location,i=t.selectedIndex;this.options.getOptionListNode().innerHTML=o.map(this.renderOption).join("\n"),this.options.open({type:e,location:n,selectedIndex:i})},t.prototype.renderOption=function(t){return'<li class="item">'+t.content+"</li>"},t}();exports.OptionsHTML=OptionsHTML;var Options=function(){function t(t){var e=t.node,o=t.screenEdgeIndent,n=t.minHeight;this.node=e,this.screenEdgeIndent=o,this.minHeight=n}return t.prototype.open=function(t){var e=(t.type,t.location),o=t.selectedIndex;this.options=new Select({viewport:{height:document.documentElement.clientHeight,width:document.documentElement.clientWidth,edgeIndent:this.screenEdgeIndent},options:{height:this.getOptionListNode().offsetHeight,minHeight:this.minHeight,selectedOffset:this.getOptionNode(o).offsetTop},button:e});var e=this.options.getLocation();for(var n in e.boundingRectangle)this.node.querySelector(".options").style.setProperty(n,e.boundingRectangle[n]+"px");this.getOptionListNode().scrollTop=e.scrollTop},t.prototype.getOptionListNode=function(){return this.node.querySelector(".list")},t.prototype.getOptionNode=function(t){return this.node.querySelector(".list").querySelectorAll(".item")[t]},t}();exports.Options=Options;var Select=function(){function t(t){var e=t.viewport,o=t.button,n=t.options;this.viewport=e,this.button=o,this.options=n}return t.prototype.getLocation=function(){var t=this.button.top-this.options.selectedOffset,e=this.viewport.height-t-this.options.height,o=this.getVerticalPosition(t,e);return{boundingRectangle:{top:o.top,bottom:o.bottom,left:this.button.left,width:this.button.width},scrollTop:this.getScrollTop(t)}},t.prototype.getVerticalPosition=function(t,e){var o=this.hasOverflow(t),n=this.hasOverflow(e);return o&&n?{top:this.viewport.edgeIndent,bottom:this.viewport.edgeIndent}:o||n?this.getOverflowedPosition(o?"top":"bottom",{top:t,bottom:e}):{top:t,bottom:e}},t.prototype.getScrollTop=function(t){return this.hasOverflow(t)?-t+this.viewport.edgeIndent:0},t.prototype.getOverflowedPosition=function(t,e){var o={top:"bottom",bottom:"top"},n=o[t];return this.getButtonDistanceToEdge(t)<this.options.minHeight?this.getSmallModePosition(t,n):(i={},i[t]=this.viewport.edgeIndent,i[n]=e[n],i);var i},t.prototype.getButtonDistanceToEdge=function(t){return"top"===t?this.button.top-this.viewport.edgeIndent:this.viewport.height-this.button.top-this.viewport.edgeIndent},t.prototype.getSmallModePosition=function(t,e){var o=this["gerSmallMode"+this.capitalize(t)](t),n=this["gerSmallMode"+this.capitalize(e)](t);return i={},i[t]=o,i[e]=this.hasOverflow(n)?this.viewport.edgeIndent:n,i;var i},t.prototype.gerSmallModeTop=function(t){var e=this,o={top:function(){return e.button.bottom},bottom:function(){return e.button.top-e.options.height}};return o[t]()},t.prototype.gerSmallModeBottom=function(t){var e=this,o={top:function(){return e.viewport.height-e.button.bottom-e.options.height},bottom:function(){return e.viewport.height-e.button.top}};return o[t]()},t.prototype.hasOverflow=function(t){return t<this.viewport.edgeIndent},t.prototype.capitalize=function(t){return t[0].toUpperCase()+t.slice(1)},t}();exports.Select=Select;