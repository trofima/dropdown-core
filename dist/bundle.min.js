"use strict";var Dropdown=function(){function t(){}return t.prototype.open=function(){},t.prototype.close=function(){},t}();exports.Dropdown=Dropdown;var Options=function(){function t(t){var o=t.node,e=t.screenEdgeIndent;this.node=o,this.screenEdgeIndent=e}return t.prototype.open=function(t){var o=(t.type,t.location),e=t.selectedIndex;this.options=new Select({viewport:{height:document.documentElement.clientHeight,width:document.documentElement.clientWidth,edgeIndent:this.screenEdgeIndent},dropdownLocation:o,selectedOptionOffset:this.getOptionNode(e).offsetTop,optionListHeight:this.getOptionListNode().offsetHeight});var o=this.options.getLocation();for(var n in o.style)this.node.querySelector(".options").style.setProperty(n,o.style[n]+"px");this.getOptionListNode().scrollTop=o.scrollTop},t.prototype.getOptionListNode=function(){return this.node.querySelector(".list")},t.prototype.getOptionNode=function(t){return this.node.querySelector(".list").querySelectorAll(".item")[t]},t}();exports.Options=Options;var OptionsHTML=function(){function t(t){var o=t.screenEdgeIndent;this.node=document.getElementById("dropdown-options"),this.node.innerHTML=this.render(),this.options=new Options({node:this.node,screenEdgeIndent:o})}return t.prototype.render=function(){return'\n            <div class="options" ref="options" tabindex="0">\n                <ol class="list" ref="list"></ol>\n            </div>\n        '},t.prototype.open=function(t){var o=t.type,e=t.options,n=t.location,i=t.selectedIndex;this.options.getOptionListNode().innerHTML=e.map(this.renderOption).join("\n"),this.options.open({type:o,location:n,selectedIndex:i})},t.prototype.renderOption=function(t){return'<li class="item">'+t.content+"</li>"},t}();exports.OptionsHTML=OptionsHTML;var Select=function(){function t(t){var o=t.viewport,e=t.dropdownLocation,n=t.selectedOptionOffset,i=t.optionListHeight;this.viewport=o,this.dropdownLocation=e,this.selectedOptionOffset=n,this.optionListHeight=i}return t.prototype.getLocation=function(){var t=this.calculateTop(),o=this.hasTopOverflow(t);return{style:{top:o?this.viewport.edgeIndent:t,bottom:this.calculateBottom(t),left:this.dropdownLocation.left,width:this.dropdownLocation.width},scrollTop:o?this.calculateScrollTop(t):0}},t.prototype.calculateTop=function(){return this.dropdownLocation.top-this.selectedOptionOffset},t.prototype.calculateBottom=function(t){return this.viewport.height-t-this.optionListHeight},t.prototype.hasTopOverflow=function(t){return t<this.viewport.edgeIndent},t.prototype.calculateScrollTop=function(t){return-t+this.viewport.edgeIndent},t}();exports.Select=Select;